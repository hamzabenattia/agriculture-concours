{% extends 'base.html.twig' %}

{% block title %}Mes résultats{% endblock %}

{% block body %}



<section>
    <div class="flex justify-center flex-col mt-8 ">
    
        <h2 class="mb-8 text-2xl text-center font-bold tracking-tight text-primary lg:font-bold lg:text-4xl lg:leading-snug dark:text-white lg:text-center  2xl:px-48">Mes résultats</h2>
    
        <p class="mb-5 text-lg text-center font-normal text-gray-500 dark:text-gray-400 lg:text-center lg:text-xl lg:px-64 lg:mb-">
            
Vous trouverez ici la liste de vos résultats.    
            </p>
    
            <div class="flex flex-col justify-center mb-3">
            
            
    {% if results is empty %}
    
    <div class="flex justify-center flex-col items-center h-96">
        <p class="text-lg font-normal text-gray-500 dark:text-gray-400 lg:text-center lg:text-xl lg:px-64 lg:mb-16">
            Vous n'avez pas encore des résultats.
        </p>
    
       
    {% else %}
    <div class="flex flex-col overflow-x-auto justify-center items-center">

        <div class="shadow-md sm:rounded-lg">
            <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
                <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                    <tr>
                        <th scope="col" class="px-6 py-3">
                            ID
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Titre de concours
                        </th>

                        <th scope="col" class="px-6 py-3">
                            Examen ID
                        </th>

                        <th scope="col" class="px-6 py-3">
                            Note
                        </th>

                        <th scope="col" class="px-6 py-3">
                            Statut
                        </th>

                        <th scope="col" class="px-6 py-3">
                            Date de publication

                        </th>
                    </tr>
                </thead>
                {% for result in results %}
                    
                <tbody>
                    <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                        <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                           {{ result.id }} 
                        </th>
                       
                        <td class="px-6 py-4">
                         {{ result.candidat.concours.title }} 
                           </td>
                       
                        <td class="px-6 py-4">
                            {{ result.examen.id }}
                        </td>

                        <td class="px-6 py-4">
                            {{ result.note }}
                        </td>


        
                        <td class="px-6 py-4">
                            {% if result.status == 'Réussi' %}
                                <span class="px-2 py-1 font-semibold leading-tight text-green-900 bg-green-100 dark:bg-green-500 dark:text-gray-800 rounded-full">Réussi</span>
                            {% elseif result.status == 'Échoué' %}
                                <span class="px-2 py-1 font-semibold leading-tight text-red-900 bg-red-100 dark:bg-red-500 dark:text-gray-800 rounded-full">Échoué</span>
                            {% endif %}
                        </td>

                        <td class="px-6 py-4">
                            {{ result.createdAt | date('d-m-Y') }}
                        </td>
                       
                    </tr>
                  
                </tbody>
                {% endfor %}
            </table>
        </div>
    </div>
    
    </div>
    {% endif %}
    
    </section>

{% endblock %}
